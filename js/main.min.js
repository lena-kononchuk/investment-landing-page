function loadHTML(i,t){fetch(t).then(e=>{if(e.ok)return e.text();throw new Error("HTTP error! status: "+e.status)}).then(e=>{var t=document.getElementById(i);t?(t.innerHTML=e,"form"===i&&("function"==typeof initializeFormValidation?initializeFormValidation():console.error("initializeFormValidation is not defined.")),"swiper"===i&&"function"==typeof initializeSwiper&&initializeSwiper(),"header"===i&&"function"==typeof initializeMobileMenuAndScroll&&initializeMobileMenuAndScroll(),"article"===i&&("function"==typeof initializeSumSlider&&initializeSumSlider(),"function"==typeof initializeMonthsSlider)&&initializeMonthsSlider()):console.error(`Element with id ${i} not found.`)}).catch(e=>{console.error(`Error loading ${t}:`,e)})}function initializeMobileMenuAndScroll(){let i=document.getElementById("mobileMenu"),n=document.querySelector(".menu-icon");function t(e){var t=document.querySelector(e.target.getAttribute("href"));t&&(e.preventDefault(),i.classList.remove("is-open"),n.classList.remove("open"),t.scrollIntoView({behavior:"smooth",block:"start"}))}document.querySelectorAll('#mobileMenu a[href^="#"]').forEach(e=>{e.addEventListener("click",t)}),n&&n.addEventListener("click",function(){i.classList.toggle("is-open"),n.classList.toggle("open")})}function initializeSwiper(){let t=new Swiper(".swiper__reviews",{loop:!1,slidesPerView:1,spaceBetween:30,centeredSlides:!0,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}}}),e=document.getElementById("nextButton"),i=document.getElementById("prevButton");var n=()=>{0===t.slides.length?(e.classList.add("disabled"),i.classList.add("disabled")):(i.classList.toggle("disabled",t.isBeginning),e.classList.toggle("disabled",t.isEnd||t.activeIndex===t.slides.length-2))};e&&i&&(e.addEventListener("click",()=>t.slideNext()),i.addEventListener("click",()=>t.slidePrev()),t.on("slideChange",n),n()),document.addEventListener("keydown",e=>{"ArrowRight"===e.key?t.slideNext():"ArrowLeft"===e.key&&t.slidePrev()})}var copy=document.querySelector(".logo_items").cloneNode(!0);document.querySelector(".logos").appendChild(copy),loadHTML("header","section/header.html"),loadHTML("form","section/form.html"),loadHTML("article","section/article.html"),loadHTML("swiper","section/swiper.html"),loadHTML("footer","section/footer.html");class IntlTelInputElement extends HTMLElement{constructor(){super(),this.inputElement=document.createElement("input"),this.inputElement.type="tel",this.inputElement.setAttribute("minlength","5"),this.inputElement.classList.add("iti__tel-input"),this.appendChild(this.inputElement),this.intlTelInputInstance=null}connectedCallback(){this.intlTelInputInstance=intlTelInput(this.inputElement,{autoHideDialCode:!1,autoPlaceholder:"ON",formatOnDisplay:!0,nationalMode:!0,preferredCountries:["uk","ie","gb","in"],initialCountry:"auto",geoIpLookup:t=>{fetch("https://ipinfo.io?token=4fbab07461a9f4").then(e=>e.json()).then(e=>{e=e&&e.country?e.country:"ie";t(e)}).catch(()=>{t("ie")})},separateDialCode:!0,placeholderNumberType:"MOBILE",dropdownContainer:document.querySelector(".dropdown"),utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@24.5.0/build/js/utils.js"}),this.setupDropdownPositioning(),this.inputElement.addEventListener("keydown",e=>{this.isAllowedKey(e)||e.preventDefault()})}setupDropdownPositioning(){this.inputElement.addEventListener("open:dropdown",()=>{this.repositionDropdown()}),window.addEventListener("resize",()=>this.repositionDropdown()),window.addEventListener("scroll",()=>this.repositionDropdown())}repositionDropdown(){var e=document.querySelector(".iti__dropdown"),t=document.querySelector(".dropdown");e&&t&&(t=t.getBoundingClientRect(),e.style.position="absolute",e.style.left=t.left+window.scrollX+"px",e.style.width=t.width+"px",e.style.top=t.bottom+window.scrollY+"px")}get value(){return this.inputElement.value}checkValidity(){this.intlTelInputInstance.isValidNumber()?(this.inputElement.classList.remove("invalid"),this.inputElement.classList.add("valid")):(this.inputElement.classList.add("invalid"),this.inputElement.classList.remove("valid"))}isAllowedKey(e){var t="0"<=e.key&&e.key<="9";return["Backspace","Tab","ArrowLeft","ArrowRight","Delete"].includes(e.key)||t}}function initializeFormValidation(){let t=document.getElementById("error-message"),i=document.getElementById("registrationForm");t.classList.remove("visible"),document.querySelectorAll("input").forEach(e=>{e.classList.remove("valid","invalid"),e.closest(".form__group").classList.add("empty"),e.addEventListener("focus",()=>{e.closest(".form__group").classList.remove("empty"),t.classList.remove("visible")}),e.addEventListener("input",()=>handleInputValidation(e,t))}),i.addEventListener("submit",e=>handleSubmit(e,i,t))}function handleInputValidation(e,t){""!==e.value.trim()?(e.closest(".form__group").classList.remove("empty"),(e.classList.contains("iti__tel-input")?validatePhoneNumber:validateField)(e,t)):(e.closest(".form__group").classList.add("empty"),e.classList.remove("valid","invalid"),t.classList.remove("visible"))}function validatePhoneNumber(e,t){e.checkValidity()?(e.classList.remove("invalid"),e.classList.add("valid"),t.classList.remove("visible")):(e.classList.remove("valid"),e.classList.add("invalid"),showErrorMessage(t,"Please fill out all fields correctly."))}function validateField(e,t){e.checkValidity()?(e.classList.remove("invalid"),e.classList.add("valid"),t.classList.remove("visible")):(e.classList.remove("valid"),e.classList.add("invalid"),showErrorMessage(t,"Please fill out all fields correctly."))}function handleSubmit(e,t,i){e.preventDefault();let n=!0;document.querySelectorAll("input").forEach(e=>{e.checkValidity()&&!e.classList.contains("invalid")||(n=!1)}),n&&(alert("Form submitted successfully!"),t.reset(),document.querySelectorAll("input").forEach(e=>{e.classList.remove("valid","invalid"),e.closest(".form__group").classList.add("empty")}),i.classList.remove("visible"))}function showErrorMessage(e,t){e.innerText=t,e.classList.add("visible")}customElements.define("intl-tel-input",IntlTelInputElement),initializeFormValidation();let minSum=300,maxSum=15e3,marksSum=[3975,7650,11325,15e3],minMonths=1,maxMonths=12,marksMonths=[1,3,6,9,12],sum=2e3,months=minMonths;function convertToPercent(e,t,i){return(e-t)/(i-t)*100}function addMarks(e,t,i,n,o=!1){let s="";var l;for(let e=0;e<t.length;e++)l=convertToPercent(t[e],i,n),s+='<span class="mark" style="left: '+l+'%">'+t[e]+(o?" months":" €")+"</span>";e.append(s)}function initializeSumSlider(){let t=$("#range-sum");t.ionRangeSlider({type:"single",grid:!0,min:minSum,max:maxSum,from:sum,postfix:" €",onStart:function(e){sum=e.from,addMarks(t,marksSum,maxSum),updateProfit()},onChange:function(e){sum=e.from,updateProfit()}})}function initializeMonthsSlider(){let t=$("#range-months");t.ionRangeSlider({type:"single",grid:!0,min:minMonths,max:maxMonths,from:minMonths,step:1,postfix:" month",onStart:function(e){months=e.from,addMarks(t,marksMonths,minMonths,maxMonths,!0),updateProfit()},onChange:function(e){months=e.from,updateProfit()}})}function calculateProfit(e,t){return 4.3*e*t}function updateProfit(){var e=Math.round(calculateProfit(sum,months));$(".profit-text").text("MOGUĆA DOBIT:"),$(".profit-amount").text("€ "+e)}$(function(){initializeSumSlider(),initializeMonthsSlider(),updateProfit()});
//# sourceMappingURL=main.min.js.map
